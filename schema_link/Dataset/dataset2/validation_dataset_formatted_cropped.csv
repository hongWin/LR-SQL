db_id,question,query,correct_tables
manufactory_1,Find number of products which Sony does not make.,SELECT COUNT(DISTINCT name) FROM products WHERE name NOT IN (SELECT t1.name FROM products as t1 JOIN manufacturers as t2 ON t1.manufacturer  =  t2.code WHERE t2.name  =  'Sony'),"products, manufacturers"
manufactory_1,How many products have prices of at least 180?,SELECT COUNT(*) FROM products WHERE price >= 180,products
manufactory_1,"Find the name, headquarter and revenue of all manufacturers sorted by their revenue in the descending order.","SELECT name ,  headquarter ,  revenue FROM manufacturers ORDER BY revenue DESC",manufacturers
manufactory_1,How many companies were created by Andy?,SELECT COUNT(*) FROM manufacturers WHERE founder  =  'Andy',manufacturers
manufactory_1,Find the name of companies whose revenue is between 100 and 150.,SELECT name FROM manufacturers WHERE revenue BETWEEN 100 AND 150,manufacturers
manufactory_1,Select the names of manufacturer whose products have an average price higher than or equal to $150.,"SELECT AVG(t1.price) ,  t2.name FROM products as t1 JOIN manufacturers as t2 ON t1.manufacturer  =  t2.code GROUP BY t2.name HAVING AVG(t1.price) >= 150","products, manufacturers"
manufactory_1,Find the name of companies whose revenue is greater than the average revenue of all companies.,SELECT name FROM manufacturers WHERE revenue  >  (SELECT AVG(revenue) FROM manufacturers),manufacturers
manufactory_1,What are the names of products with price at most 200?,SELECT name FROM products WHERE price  <=  200,products
game_1,Find the first name and age of the students who are playing both Football and Lacrosse.,"SELECT fname ,  age FROM student WHERE stuid IN (SELECT stuid FROM sportsinfo WHERE sportname  =  ""Football"" INTERSECT SELECT stuid FROM sportsinfo WHERE sportname  =  ""Lacrosse"")","student, sportsinfo"
game_1,What are the names of all the games that have been played for at least 1000 hours?,SELECT gname FROM plays_games as t1 JOIN video_games as t2 ON t1.gameid  =  t2.gameid GROUP BY t1.gameid HAVING SUM(hours_played)  >=  1000,"plays_games, video_games"
game_1,How many video games have type Massively multiplayer online game?,"SELECT COUNT(*) FROM video_games WHERE gtype  =  ""Massively multiplayer online game""",video_games
game_1,How many video games do you have?,SELECT COUNT(*) FROM video_games,video_games
game_1,How many video game types exist?,SELECT COUNT(DISTINCT gtype) FROM video_games,video_games
game_1,What is the total number of hours per work and number of games played by David Shieber?,"SELECT SUM(hoursperweek) ,  SUM(gamesplayed) FROM sportsinfo as t1 JOIN student as t2 ON t1.stuid  =  t2.stuid WHERE t2.fname  =  ""David"" AND t2.lname  =  ""Shieber""","sportsinfo, student"
game_1,Show ids of students who don't play video game.,SELECT stuid FROM student EXCEPT SELECT stuid FROM plays_games,"student, plays_games"
game_1,What are the ids of all students who don't play sports?,SELECT stuid FROM student EXCEPT SELECT stuid FROM sportsinfo,"student, sportsinfo"
musical,"Show the nominees that have nominated musicals for both ""Tony Award"" and ""Drama Desk Award"".","SELECT nominee FROM musical WHERE award  =  ""Tony award"" INTERSECT SELECT nominee FROM musical WHERE award  =  ""Drama Desk award""",musical
musical,How many actors have appeared in each musical?,"SELECT t2.name ,  COUNT(*) FROM actor as t1 JOIN musical as t2 ON t1.musical_id  =  t2.musical_id GROUP BY t1.musical_id","actor, musical"
musical,List the name of musicals that do not have actors.,SELECT name FROM musical WHERE musical_id NOT IN (SELECT musical_id FROM actor),"musical, actor"
musical,What are the names of musicals who have at 3 or more actors?,SELECT t2.name FROM actor as t1 JOIN musical as t2 ON t1.musical_id  =  t2.musical_id GROUP BY t1.musical_id HAVING COUNT(*)  >=  3,"actor, musical"
entrepreneur,"What are the names of entrepreneurs and their corresponding investors, ordered descending by the amount of money requested?","SELECT t2.name ,  t1.company FROM entrepreneur as t1 JOIN people as t2 ON t1.people_id  =  t2.people_id ORDER BY t1.money_requested","entrepreneur, people"
entrepreneur,What is the name of the entrepreneur with the greatest weight?,SELECT t2.name FROM entrepreneur as t1 JOIN people as t2 ON t1.people_id  =  t2.people_id ORDER BY t2.weight DESC LIMIT 1,"entrepreneur, people"
entrepreneur,What are the names of people in ascending order of weight?,SELECT name FROM people ORDER BY weight ASC,people
entrepreneur,Count the number of different companies.,SELECT COUNT(DISTINCT company) FROM entrepreneur,entrepreneur
cre_Theme_park,What are the names of the tourist attractions Vincent and Marcelle visit?,"SELECT t1.name FROM tourist_attractions as t1 JOIN visitors as t2 JOIN visits as t3 ON t1.tourist_attraction_id  =  t3.tourist_attraction_id AND t2.tourist_id  =  t3.tourist_id WHERE t2.tourist_details  =  ""Vincent"" INTERSECT SELECT t1.name FROM tourist_attractions as t1 JOIN visitors as t2 JOIN visits as t3 ON t1.tourist_attraction_id  =  t3.tourist_attraction_id AND t2.tourist_id  =  t3.tourist_id WHERE t2.tourist_details  =  ""Marcelle""","tourist_attractions, visitors, visits"
cre_Theme_park,What are the distinct visit dates?,SELECT DISTINCT visit_date FROM visits,visits
cre_Theme_park,Find the names of the tourist attractions that is either accessible by walk or at address 660 Shea Crescent.,"SELECT t2.name FROM locations as t1 JOIN tourist_attractions as t2 ON t1.location_id  =  t2.location_id WHERE t1.address  =  ""660 Shea Crescent"" OR t2.how_to_get_there  =  ""walk""","locations, tourist_attractions"
cre_Theme_park,Which transportation method is used the most often to get to tourist attractions?,SELECT how_to_get_there FROM tourist_attractions GROUP BY how_to_get_there ORDER BY COUNT(*) DESC LIMIT 1,tourist_attractions
cre_Theme_park,Give me the detail and opening hour for each museum.,"SELECT t1.museum_details ,  t2.opening_hours FROM museums as t1 JOIN tourist_attractions as t2 ON t1.museum_id  =  t2.tourist_attraction_id","museums, tourist_attractions"
cre_Theme_park,Find the names of the tourist attractions that is either accessible by bus or at address 254 Ottilie Junction.,"SELECT t2.name FROM locations as t1 JOIN tourist_attractions as t2 ON t1.location_id  =  t2.location_id WHERE t1.address  =  ""254 Ottilie Junction"" OR t2.how_to_get_there  =  ""bus""","locations, tourist_attractions"
cre_Theme_park,Count the number of distinct names associated with the photos.,SELECT COUNT(DISTINCT name) FROM photos,photos
cre_Theme_park,"What is the name of the staff that is in charge of the attraction named ""US museum""?","SELECT t1.name FROM staff as t1 JOIN tourist_attractions as t2 ON t1.tourist_attraction_id  =  t2.tourist_attraction_id WHERE t2.name  =  ""US museum""","staff, tourist_attractions"
wrestler,Which teams had more than 3 eliminations?,SELECT team FROM elimination GROUP BY team HAVING COUNT(*)  >  3,elimination
wrestler,List the locations that are shared by more than two wrestlers.,SELECT location FROM wrestler GROUP BY location HAVING COUNT(*)  >  2,wrestler
wrestler,How many wrestlers are there?,SELECT COUNT(*) FROM wrestler,wrestler
wrestler,What is the number of distinct teams that suffer elimination?,SELECT COUNT(DISTINCT team) FROM elimination,elimination
yelp,How many tips has Michelle written in 2010,"SELECT COUNT(DISTINCT t1.text) FROM user as t2 JOIN tip as t1 ON t2.user_id  =  t1.user_id WHERE t1.year  =  2010 AND t2.name  =  ""Michelle"";","user, tip"
yelp,"Find all users who reviewed restaurant "" Mesa Grill ""","SELECT t4.name FROM category as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id JOIN review as t3 ON t3.business_id  =  t1.business_id JOIN user as t4 ON t4.user_id  =  t3.user_id WHERE t1.name  =  ""Mesa Grill"" AND t2.category_name  =  ""restaurant"";","category, business, review, user"
yelp,"How many people reviewed restaurant "" Vintner Grill "" in 2010 ?","SELECT COUNT(DISTINCT t4.name) FROM category as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id JOIN review as t3 ON t3.business_id  =  t1.business_id JOIN user as t4 ON t4.user_id  =  t3.user_id WHERE t1.name  =  ""Vintner Grill"" AND t2.category_name  =  ""category_category_name0"" AND t3.year  =  2010;","category, business, review, user"
yelp,List all the neighbourhoods with Italian restaurant in Madison,"SELECT t1.neighbourhood_name FROM category as t3 JOIN business as t2 ON t3.business_id  =  t2.business_id JOIN category as t4 ON t4.business_id  =  t2.business_id JOIN neighbourhood as t1 ON t1.business_id  =  t2.business_id WHERE t2.city  =  ""Madison"" AND t3.category_name  =  ""Italian"" AND t4.category_name  =  ""restaurant"";","category, business, neighbourhood"
yelp,How many escape games are there in Madison ?,"SELECT COUNT(DISTINCT t1.name) FROM category as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id WHERE t1.city  =  ""Madison"" AND t2.category_name  =  ""escape games"";","category, business"
yelp,How many reviews has Michelle written in March 2014 ?,"SELECT COUNT(DISTINCT t1.text) FROM user as t2 JOIN review as t1 ON t2.user_id  =  t1.user_id WHERE t1.month  =  ""March"" AND t1.year  =  2014 AND t2.name  =  ""Michelle"";","user, review"
yelp,Find all Dallas restaurant with a rating above 4.5,"SELECT t1.name FROM category as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id WHERE t1.city  =  ""Dallas"" AND t1.rating  >  4.5 AND t2.category_name  =  ""restaurant"";","category, business"
yelp,what is the average rating given in Michelle reviews,"SELECT AVG(t1.rating) FROM user as t2 JOIN review as t1 ON t2.user_id  =  t1.user_id WHERE t2.name  =  ""Michelle"";","user, review"
yelp,list all the businesses which Niloofar rated 5,"SELECT t1.name FROM review as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id JOIN user as t3 ON t3.user_id  =  t2.user_id WHERE t2.rating  =  5 AND t3.name  =  ""Niloofar"";","review, business, user"
yelp,"What is the total likes on tips from Niloofar about "" Cafe Zinho ""","SELECT SUM(t2.likes) FROM tip as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id JOIN user as t3 ON t3.user_id  =  t2.user_id WHERE t1.name  =  ""Cafe Zinho"" AND t3.name  =  ""Niloofar"";","tip, business, user"
yelp,"Find all reviews about "" Kabob Palace "" in year 2014","SELECT t2.text FROM review as t2 JOIN business as t1 ON t2.business_id  =  t1.business_id WHERE t1.name  =  ""Kabob Palace"" AND t2.year  =  2014;","review, business"
behavior_monitoring,"What are the start and end dates for incidents with incident type code ""NOISE""?","SELECT date_incident_start ,  date_incident_end FROM behavior_incident WHERE incident_type_code  =  ""NOISE""",behavior_incident
behavior_monitoring,Find the maximum and minimum monthly rental for all student addresses.,"SELECT MAX(monthly_rental) ,  MIN(monthly_rental) FROM student_addresses",student_addresses
behavior_monitoring,"What is the gender of the teacher with last name ""Medhurst""?","SELECT gender FROM teachers WHERE last_name  =  ""Medhurst""",teachers
behavior_monitoring,How many distinct students have been in detention?,SELECT COUNT(DISTINCT student_id) FROM students_in_detention,students_in_detention
film_rank,Return the average gross sales in dollars across all films.,SELECT AVG(gross_in_dollar) FROM film,film
film_rank,What are the names of studios that have produced films with both Nicholas Meyer and Walter Hill?,"SELECT studio FROM film WHERE director  =  ""Nicholas Meyer"" INTERSECT SELECT studio FROM film WHERE director  =  ""Walter Hill""",film
film_rank,Return the low and high estimates for all film markets.,"SELECT low_estimate ,  high_estimate FROM film_market_estimation",film_market_estimation
film_rank,Which studios have never worked with the director Walter Hill?,"SELECT studio FROM film EXCEPT SELECT studio FROM film WHERE director  =  ""Walter Hill""",film
product_catalog,What are the entry names of catalog with the attribute possessed by most entries.,SELECT t1.catalog_entry_name FROM catalog_contents as t1 JOIN catalog_contents_Additional_Attributes as t2 ON t1.catalog_entry_id  =  t2.catalog_entry_id WHERE t2.attribute_value  =  (SELECT attribute_value FROM catalog_contents_Additional_Attributes GROUP BY attribute_value ORDER BY COUNT(*) DESC LIMIT 1),"catalog_contents, catalog_contents_Additional_Attributes"
product_catalog,What are the name and level of catalog structure with level number between 5 and 10,"SELECT catalog_level_name ,  catalog_level_number FROM catalog_structure WHERE catalog_level_number BETWEEN 5 AND 10",catalog_structure
product_catalog,"Find all the catalog publishers whose name contains ""Murray""","SELECT DISTINCT(catalog_publisher) FROM catalogs WHERE catalog_publisher LIKE ""%Murray%""",catalogs
product_catalog,Find the entry name of the catalog with the highest price (in USD).,SELECT catalog_entry_name FROM catalog_contents ORDER BY price_in_dollars DESC LIMIT 1,catalog_contents
flight_4,"What is the number of airports per country, ordered from most to least?","SELECT COUNT(*) ,  country FROM airports GROUP BY country ORDER BY COUNT(*) DESC",airports
flight_4,"Find the name, city, and country of the airport that has the lowest altitude.","SELECT name ,  city ,  country FROM airports ORDER BY elevation LIMIT 1",airports
flight_4,In how many cities are there airports in the country of Greenland?,SELECT COUNT(DISTINCT city) FROM airports WHERE country  =  'Greenland',airports
flight_4,How many airlines are there?,SELECT COUNT(*) FROM airlines,airlines
flight_4,"What is the name, city, and country of the airport with the lowest altitude?","SELECT name ,  city ,  country FROM airports ORDER BY elevation LIMIT 1",airports
flight_4,How many airports are there per country? Order the countries by decreasing number of airports.,"SELECT COUNT(*) ,  country FROM airports GROUP BY country ORDER BY COUNT(*) DESC",airports
flight_4,What is the number of airlines based in Russia?,SELECT COUNT(*) FROM airlines WHERE country  =  'Russia',airlines
flight_4,Find the names of the top 10 airlines that operate the most number of routes.,"SELECT t1.name ,  t2.alid FROM airlines as t1 JOIN routes as t2 ON t1.alid  =  t2.alid GROUP BY t2.alid ORDER BY COUNT(*) DESC LIMIT 10","airlines, routes"
game_injury,List the dates of games by the home team name in descending order.,SELECT date FROM game ORDER BY home_team DESC,game
hospital_1,Which physicians are in charge of more than one patient? Give me their names.,SELECT t1.name FROM physician as t1 JOIN patient as t2 ON t1.employeeid  =  t2.pcp GROUP BY t1.employeeid HAVING COUNT(*)  >  1,"physician, patient"
hospital_1,Find the department with the most employees.,SELECT name FROM department GROUP BY departmentid ORDER BY COUNT(departmentid) DESC LIMIT 1;,department
hospital_1,Sort the list of names and costs of all procedures in the descending order of cost.,"SELECT name ,  cost FROM procedures ORDER BY cost DESC",procedures
hospital_1,Find the names of all procedures such that the cost is less than 5000 and physician John Wen was trained in.,"SELECT name FROM procedures WHERE cost  <  5000 INTERSECT SELECT t3.name FROM physician as t1 JOIN trained_in as t2 ON t1.employeeid  =  t2.physician JOIN procedures as t3 ON t3.code  =  t2.treatment WHERE t1.name  =  ""John Wen""","procedures, physician, trained_in"
hospital_1,What are the names of the physician who prescribed the highest dose?,SELECT t1.name FROM physician as t1 JOIN prescribes as t2 ON t1.employeeid = t2.physician ORDER BY t2.dose DESC LIMIT 1,"physician, prescribes"
hospital_1,Find the id of the appointment with the most recent start date?,SELECT appointmentid FROM appointment ORDER BY start DESC LIMIT 1,appointment
hospital_1,Find the names of nurses who are on call.,SELECT DISTINCT t1.name FROM nurse as t1 JOIN on_call as t2 ON t1.employeeid  =  t2.nurse,"nurse, on_call"
hospital_1,Find the names of all procedures which cost more than 1000 but which physician John Wen was not trained in?,"SELECT name FROM procedures WHERE cost  >  1000 EXCEPT SELECT t3.name FROM physician as t1 JOIN trained_in as t2 ON t1.employeeid  =  t2.physician JOIN procedures as t3 ON t3.code  =  t2.treatment WHERE t1.name  =  ""John Wen""","procedures, physician, trained_in"
hospital_1,Which department has the largest number of employees?,SELECT name FROM department GROUP BY departmentid ORDER BY COUNT(departmentid) DESC LIMIT 1;,department
hospital_1,Find all procedures which cost more than 1000 or which physician John Wen was trained in.,"SELECT name FROM procedures WHERE cost  >  1000 UNION SELECT t3.name FROM physician as t1 JOIN trained_in as t2 ON t1.employeeid  =  t2.physician JOIN procedures as t3 ON t3.code  =  t2.treatment WHERE t1.name  =  ""John Wen""","procedures, physician, trained_in"
company_office,What is the stories of highest building?,SELECT stories FROM buildings ORDER BY height DESC LIMIT 1,buildings
company_office,Sort the company names in descending order of the company's market value.,SELECT name FROM companies ORDER BY market_value_billion DESC,companies
company_office,"Which industries have both companies with headquarter in ""USA"" and companies with headquarter in ""China""?","SELECT industry FROM companies WHERE headquarters  =  ""USA"" INTERSECT SELECT industry FROM companies WHERE headquarters  =  ""China""",companies
company_office,"Please show the names of the buildings whose status is ""on-hold"", in ascending order of stories.","SELECT name FROM buildings WHERE status  =  ""on-hold"" ORDER BY stories ASC",buildings
party_people,Show all ministers who do not belong to Progress Party.,SELECT minister FROM party WHERE party_name != 'Progress Party',party
party_people,Who are the ministers who took office after 1961 or before 1959?,SELECT minister FROM party WHERE took_office  >  1961 OR took_office  <  1959,party
party_people,"Who are the ministers and what parties do they belong to, listed descending by the times they took office?","SELECT minister ,  party_name FROM party ORDER BY took_office DESC",party
party_people,Show party names and the number of events for each party.,"SELECT t2.party_name ,  COUNT(*) FROM party_events as t1 JOIN party as t2 ON t1.party_id  =  t2.party_id GROUP BY t1.party_id","party_events, party"
browser_web,What is the name of the browser that became compatible with the accelerator 'CProxy' after year 1998 ?,SELECT t1.name FROM browser as t1 JOIN accelerator_compatible_browser as t2 ON t1.id  =  t2.browser_id JOIN web_client_accelerator as t3 ON t2.accelerator_id  =  t3.id WHERE t3.name  =  'CProxy' AND t2.compatible_since_year  >  1998,"browser, accelerator_compatible_browser, web_client_accelerator"
tracking_share_transactions,"Show the average amount of transactions for different lots, ordered by average amount of transactions.","SELECT t2.lot_id ,  AVG(amount_of_transaction) FROM transactions as t1 JOIN transactions_lots as t2 ON t1.transaction_id  =  t2.transaction_id GROUP BY t2.lot_id ORDER BY AVG(amount_of_transaction)","transactions, transactions_lots"
tracking_share_transactions,Show all investor details.,SELECT investor_details FROM investors,investors
tracking_share_transactions,What are the details of the lots which are not used in any transactions?,SELECT lot_details FROM lots EXCEPT SELECT t1.lot_details FROM lots as t1 JOIN transactions_lots as t2 ON t1.lot_id  =  t2.lot_id,"lots, transactions_lots"
tracking_share_transactions,"Show the number of transactions with transaction type code ""SALE"" for different investors if it is larger than 0.","SELECT investor_id ,  COUNT(*) FROM transactions WHERE transaction_type_code  =  ""SALE"" GROUP BY investor_id",transactions
university_basketball,"What are the different affiliations, and how many schools with each have an enrollment size of above 20000?","SELECT COUNT(*) ,  affiliation FROM university WHERE enrollment  >  20000 GROUP BY affiliation",university
university_basketball,What are the schools that were either founded before 1850 or are public?,SELECT school FROM university WHERE founded  >  1850 OR affiliation  =  'Public',university
university_basketball,What is the maximum enrollment across all schools?,SELECT MAX(enrollment) FROM university,university
university_basketball,What is the team name and acc regular season score of the school that was founded for the longest time?,"SELECT t2.team_name ,  t2.acc_regular_season FROM university as t1 JOIN basketball_match as t2 ON t1.school_id  =  t2.school_id ORDER BY t1.founded LIMIT 1","university, basketball_match"
restaurants,give me a good place in the yosemite and mono lake area for french food ?,"SELECT t3.house_number  ,  t1.name FROM restaurant as t1 JOIN geographic as t2 ON t1.city_name  =  t2.city_name JOIN location as t3 ON t1.id  =  t3.restaurant_id WHERE t2.region  =  ""yosemite and mono lake area"" AND t1.food_type  =  ""french"" AND t1.rating  >  2.5;","restaurant, geographic, location"
restaurants,give me some restaurants good for arabic food on buchanan in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t2.street_name  =  ""buchanan"" AND t1.food_type  =  ""arabic"" AND t1.rating  >  2.5;","restaurant, location"
restaurants,give me some good restaurants in the bay area ?,"SELECT t2.house_number  ,  t1.name FROM location as t2 JOIN restaurant as t1 ON t1.id  =  t2.restaurant_id  WHERE t1.city_name IN ( SELECT city_name FROM geographic WHERE region  =  ""region0"" ) AND t1.rating  >  2.5;","location, restaurant, geographic"
restaurants,give me a good restaurant in mountain view for arabic food ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""mountain view"" AND t1.food_type  =  ""arabic"" AND t1.rating  >  2.5;","restaurant, location"
restaurants,Give me the best french in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.food_type  =  ""french"" AND t1.rating  =  ( SELECT MAX(t1.rating) FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.food_type  =  ""french"" );","restaurant, location"
restaurants,where can i find a jamerican cuisine in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.name  =  ""jamerican cuisine"";","restaurant, location"
restaurants,where can i eat arabic food on buchanan in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t2.street_name  =  ""buchanan"" AND t1.food_type  =  ""arabic"" AND t1.rating  >  2.5;","restaurant, location"
restaurants,Give me the best place in san francisco for french food ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.food_type  =  ""french"" AND t1.rating  =  ( SELECT MAX(t1.rating) FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.food_type  =  ""french"" );","restaurant, location"
restaurants,where is a jamerican cuisine in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t1.name  =  ""jamerican cuisine"";","restaurant, location"
restaurants,give me the best restaurant in bay area for american food ?,"SELECT t3.house_number  ,  t1.name FROM restaurant as t1 JOIN geographic as t2 ON t1.city_name  =  t2.city_name JOIN location as t3 ON t1.id  =  t3.restaurant_id WHERE t2.region  =  ""bay area"" AND t1.food_type  =  ""american"" AND t1.rating  =  ( SELECT MAX(t1.rating) FROM restaurant as t1 JOIN geographic as t2 ON t1.city_name  =  t2.city_name WHERE t2.region  =  ""bay area"" AND t1.food_type  =  ""american"" );","restaurant, geographic, location"
restaurants,what is the best restaurant in the bay area for american food ?,"SELECT t3.house_number  ,  t1.name FROM restaurant as t1 JOIN geographic as t2 ON t1.city_name  =  t2.city_name JOIN location as t3 ON t1.id  =  t3.restaurant_id WHERE t2.region  =  ""bay area"" AND t1.food_type  =  ""american"" AND t1.rating  =  ( SELECT MAX(t1.rating) FROM restaurant as t1 JOIN geographic as t2 ON t1.city_name  =  t2.city_name WHERE t2.region  =  ""bay area"" AND t1.food_type  =  ""american"" );","restaurant, geographic, location"
restaurants,where is a good arabic on buchanan in san francisco ?,"SELECT t2.house_number  ,  t1.name FROM restaurant as t1 JOIN location as t2 ON t1.id  =  t2.restaurant_id WHERE t2.city_name  =  ""san francisco"" AND t2.street_name  =  ""buchanan"" AND t1.food_type  =  ""arabic"" AND t1.rating  >  2.5;","restaurant, location"
twitter_1,Find the name of the user who has the largest number of followers.,SELECT name FROM user_profiles ORDER BY followers DESC LIMIT 1,user_profiles
twitter_1,"List the name and number of followers for each user, and sort the results by the number of followers in descending order.","SELECT name ,  followers FROM user_profiles ORDER BY followers DESC",user_profiles
bike_1,What are the dates with a maximum temperature higher than 85?,SELECT date FROM weather WHERE max_temperature_f  >  85,weather
bike_1,Give me the zip code where the average mean humidity is below 70 and at least 100 trips took place.,SELECT zip_code FROM weather GROUP BY zip_code HAVING AVG(mean_humidity)  <  70 INTERSECT SELECT zip_code FROM trip GROUP BY zip_code HAVING COUNT(*)  >=  100,"weather, trip"
bike_1,Give me ids for all the trip that took place in a zip code area with average mean temperature above 60.,SELECT t1.id FROM trip as t1 JOIN weather as t2 ON t1.zip_code  =  t2.zip_code GROUP BY t2.zip_code HAVING AVG(t2.mean_temperature_f)  >  60,"trip, weather"
bike_1,What are all the different start station names for a trip that lasted less than 100?,SELECT DISTINCT start_station_name FROM trip WHERE duration  <  100,trip
bike_1,What are the ids of the stations in San Francisco that normally have more than 10 bikes available?,"SELECT id FROM station WHERE city  =  ""San Francisco"" INTERSECT SELECT station_id FROM status GROUP BY station_id HAVING AVG(bikes_available)  >  10","station, status"
bike_1,What are the ids of all trips that had a duration as long as the average trip duration in the zip code 94103?,SELECT id FROM trip WHERE duration  >=  (SELECT AVG(duration) FROM trip WHERE zip_code  =  94103),trip
bike_1,On which day has it neither been foggy nor rained in the zip code of 94107?,"SELECT date FROM weather WHERE zip_code  =  94107 AND events != ""Fog"" AND events != ""Rain""",weather
bike_1,What is the number of distinct cities the stations are located at?,SELECT COUNT(DISTINCT city) FROM station,station
bike_1,What are the start station's name and id for the one that had the most start trips in August?,"SELECT start_station_name ,  start_station_id FROM trip WHERE start_date LIKE ""8/%"" GROUP BY start_station_name ORDER BY COUNT(*) DESC LIMIT 1",trip
bike_1,Find the ids and names of stations from which at least 200 trips started.,"SELECT start_station_id ,  start_station_name FROM trip GROUP BY start_station_name HAVING COUNT(*)  >=  200",trip
csu_1,What campuses are located in Chico?,"SELECT campus FROM campuses WHERE location  =  ""Chico""",campuses
csu_1,How many campuses are there in Los Angeles county?,"SELECT COUNT(*) FROM campuses WHERE county  =  ""Los Angeles""",campuses
csu_1,How many campuses exist are in the county of LA?,"SELECT COUNT(*) FROM campuses WHERE county  =  ""Los Angeles""",campuses
csu_1,Report the name of all campuses in Los Angeles county.,"SELECT campus FROM campuses WHERE county  =  ""Los Angeles""",campuses
csu_1,"How many degrees were conferred in ""San Jose State University"" in 2000?","SELECT degrees FROM campuses as t1 JOIN degrees as t2 ON t1.id  =  t2.campus WHERE t1.campus  =  ""San Jose State University"" AND t2.year  =  2000","campuses, degrees"
csu_1,What is the number of faculty at Long Beach State University in 2002?,"SELECT faculty FROM faculty as t1 JOIN campuses as t2 ON t1.campus  =  t2.id WHERE t1.year  =  2002 AND t2.campus  =  ""Long Beach State University""","faculty, campuses"
csu_1,What is the total number of campuses?,SELECT COUNT(*) FROM campuses,campuses
news_report,Show the most common nationality for journalists.,SELECT nationality FROM journalist GROUP BY nationality ORDER BY COUNT(*) DESC LIMIT 1,journalist
icfp_1,"Find the papers which have ""Olin Shivers"" as an author.","SELECT t3.title FROM authors as t1 JOIN authorship as t2 ON t1.authid  =  t2.authid JOIN papers as t3 ON t2.paperid  =  t3.paperid WHERE t1.fname  =  ""Olin"" AND t1.lname  =  ""Shivers""","authors, authorship, papers"
icfp_1,"Find the number of papers published by authors from the institution ""Tokohu University"".","SELECT COUNT(DISTINCT t1.title) FROM papers as t1 JOIN authorship as t2 ON t1.paperid  =  t2.paperid JOIN inst as t3 ON t2.instid  =  t3.instid WHERE t3.name  =  ""Tokohu University""","papers, authorship, inst"
icfp_1,Which institution has the most papers? Find the name of the institution.,SELECT t1.name FROM inst as t1 JOIN authorship as t2 ON t1.instid  =  t2.instid JOIN papers as t3 ON t2.paperid  =  t3.paperid GROUP BY t1.name ORDER BY COUNT(*) DESC LIMIT 1,"inst, authorship, papers"
icfp_1,"How many papers are ""Atsushi Ohori"" the author of?","SELECT COUNT(*) FROM authors as t1 JOIN authorship as t2 ON t1.authid  =  t2.authid JOIN papers as t3 ON t2.paperid  =  t3.paperid WHERE  t1.fname  =  ""Atsushi"" AND t1.lname  =  ""Ohori""","authors, authorship, papers"
icfp_1,Find the name of the organization that has published the largest number of papers.,SELECT t1.name FROM inst as t1 JOIN authorship as t2 ON t1.instid  =  t2.instid JOIN papers as t3 ON t2.paperid  =  t3.paperid GROUP BY t1.name ORDER BY COUNT(*) DESC LIMIT 1,"inst, authorship, papers"
icfp_1,"Find all the papers published by ""Aaron Turon"".","SELECT t3.title FROM authors as t1 JOIN authorship as t2 ON t1.authid  =  t2.authid JOIN papers as t3 ON t2.paperid  =  t3.paperid WHERE  t1.fname  =  ""Aaron"" AND t1.lname  =  ""Turon""","authors, authorship, papers"
manufacturer,How many furniture components are there in total?,SELECT SUM(num_of_component) FROM furniture,furniture
network_2,Find the male friend of Alice whose job is a doctor?,SELECT t2.friend FROM person as t1 JOIN personFriend as t2 ON t1.name  =  t2.friend WHERE t2.name  =  'Alice' AND t1.gender  =  'male' AND t1.job  =  'doctor',"person, personFriend"
network_2,Who is the person that has no friend?,SELECT name FROM person EXCEPT SELECT name FROM personfriend,"person, personfriend"
network_2,What are the ages of all of Zach's friends who are in the longest relationship?,SELECT t1.age FROM person as t1 JOIN personFriend as t2 ON t1.name  =  t2.friend WHERE t2.name =  'Zach' AND t2.year  =  (SELECT MAX(year) FROM personFriend WHERE name =  'Zach'),"person, personFriend"
network_2,Find the number of people whose age is greater than all engineers.,SELECT COUNT(*) FROM person WHERE age  >  (SELECT MAX(age) FROM person WHERE job  =  'engineer'),person
network_2,What is minimum age for different job title?,"SELECT MIN(age) ,  job FROM person GROUP BY job",person
network_2,"How old is each gender, on average?","SELECT AVG(age) ,  gender FROM person GROUP BY gender",person
network_2,Find Alice's friends of friends.,SELECT DISTINCT t4.name FROM personfriend as t1 JOIN person as t2 ON t1.name  =  t2.name JOIN personfriend as t3 ON t1.friend  =  t3.name JOIN personfriend as t4 ON t3.friend  =  t4.name WHERE t2.name  =  'Alice' AND t4.name != 'Alice',"personfriend, person"
network_2,What is the age of the doctor named Zach?,SELECT age FROM person WHERE job  =  'doctor' AND name  =  'Zach',person
medicine_enzyme_interaction,"What is the product, chromosome and porphyria related to the enzymes which take effect at the location 'Cytosol'?","SELECT product ,  chromosome ,  porphyria FROM enzyme WHERE location  =  'Cytosol'",enzyme
medicine_enzyme_interaction,What are the names of enzymes who does not produce 'Heme'?,SELECT name FROM enzyme WHERE product != 'Heme',enzyme
medicine_enzyme_interaction,"Which enzyme names have the substring ""ALA""?","SELECT name FROM enzyme WHERE name LIKE ""%ALA%""",enzyme
medicine_enzyme_interaction,"For every medicine id, what are the names of the medicines that can interact with more than one enzyme?","SELECT t1.id ,  t1.name FROM medicine as t1 JOIN medicine_enzyme_interaction as t2 ON t2.medicine_id  =  t1.id GROUP BY t1.id HAVING COUNT(*)  >=  2","medicine, medicine_enzyme_interaction"
apartment_rentals,Find the booking start date and end date for the apartments that have more than two bedrooms.,"SELECT t1.booking_start_date ,  t1.booking_start_date FROM apartment_bookings as t1 JOIN apartments as t2 ON t1.apt_id  =  t2.apt_id WHERE t2.bedroom_count  >  2","apartment_bookings, apartments"
apartment_rentals,"Show the start dates and end dates of all the apartment bookings made by guests with gender code ""Female"".","SELECT t1.booking_start_date ,  t1.booking_start_date FROM apartment_bookings as t1 JOIN guests as t2 ON t1.guest_id  =  t2.guest_id WHERE t2.gender_code  =  ""Female""","apartment_bookings, guests"
apartment_rentals,Which buildings have apartments that have more than two bathrooms? Give me the addresses of the buildings.,SELECT t1.building_address FROM apartment_buildings as t1 JOIN apartments as t2 ON t1.building_id  =  t2.building_id WHERE t2.bathroom_count  >  2,"apartment_buildings, apartments"
apartment_rentals,"Show the first names and last names of all the guests that have apartment bookings with status code ""Confirmed"".","SELECT t2.guest_first_name ,  t2.guest_last_name FROM apartment_bookings as t1 JOIN guests as t2 ON t1.guest_id  =  t2.guest_id WHERE t1.booking_status_code  =  ""Confirmed""","apartment_bookings, guests"
apartment_rentals,Show the facility codes of apartments with more than 4 bedrooms.,SELECT t1.facility_code FROM apartment_facilities as t1 JOIN apartments as t2 ON t1.apt_id  =  t2.apt_id WHERE t2.bedroom_count  >  4,"apartment_facilities, apartments"
apartment_rentals,Return all the apartment numbers sorted by the room count in ascending order.,SELECT apt_number FROM apartments ORDER BY room_count ASC,apartments
apartment_rentals,Find the average number of bedrooms of all the apartments.,SELECT AVG(bedroom_count) FROM apartments,apartments
apartment_rentals,"What are the building full names that contain the word ""court""?","SELECT building_full_name FROM apartment_buildings WHERE building_full_name LIKE ""%court%""",apartment_buildings
program_share,"What are the name, origin and owner of each program?","SELECT name ,  origin ,  owner FROM program",program
program_share,Find the names of programs that are never broadcasted in the morning.,"SELECT name FROM program EXCEPT SELECT t1.name FROM program as t1 JOIN broadcast as t2 ON t1.program_id  =  t2.program_id WHERE t2.time_of_day  =  ""Morning""","program, broadcast"
program_share,What is the owner of the channel that has the highest rating ratio?,SELECT owner FROM channel ORDER BY rating_in_percent DESC LIMIT 1,channel
program_share,List the names of all the channels owned by either CCTV or HBS,SELECT name FROM channel WHERE owner  =  'CCTV' OR owner  =  'HBS',channel
local_govt_mdm,"List all information about customer master index, and sort them by details in descending order.",SELECT * FROM customer_master_index ORDER BY cmi_details DESC,customer_master_index
store_product,Find the name and population of district with population between 200000 and 2000000,"SELECT district_name ,  city_population FROM district WHERE city_population BETWEEN 200000 AND 2000000",district
store_product,What is the name of the district with the smallest area?,SELECT district_name FROM district ORDER BY city_area ASC LIMIT 1,district
store_product,What is the total population for all the districts that have an area larger tahn the average city area?,SELECT SUM(city_population) FROM district WHERE city_area  >  (SELECT AVG(city_area) FROM district),district
store_product,What is the name of the district with the most residents?,SELECT district_name FROM district ORDER BY city_population DESC LIMIT 1,district
gas_company,What is the name of the manager with the most gas stations that opened after 2000?,SELECT manager_name FROM gas_station WHERE open_year  >  2000 GROUP BY manager_name ORDER BY COUNT(*) DESC LIMIT 1,gas_station
gas_company,List the company name and rank for all companies in the decreasing order of their sales.,"SELECT company ,  rank FROM company ORDER BY sales_billion DESC",company
gas_company,What are the companies and main industries of all companies that are not headquartered in the United States?,"SELECT company ,  main_industry FROM company WHERE headquarters != 'USA'",company
gas_company,Show the manager name for gas stations belonging to the ExxonMobil company.,SELECT t3.manager_name FROM station_company as t1 JOIN company as t2 ON t1.company_id  =  t2.company_id JOIN gas_station as t3 ON t1.station_id  =  t3.station_id WHERE t2.company  =  'ExxonMobil',"station_company, company, gas_station"
entertainment_awards,What are the names of festivals held in year 2007?,SELECT festival_name FROM festival_detail WHERE year  =  2007,festival_detail
entertainment_awards,List the year in which there are more than one festivals.,SELECT year FROM festival_detail GROUP BY year HAVING COUNT(*)  >  1,festival_detail
protein_institute,Show the name of buildings that do not have any institution.,SELECT name FROM building WHERE building_id NOT IN (SELECT building_id FROM institution),"building, institution"
protein_institute,Show the names of buildings except for those having an institution founded in 2003.,SELECT name FROM building EXCEPT SELECT t1.name FROM building as t1 JOIN institution as t2 ON t1.building_id  =  t2.building_id WHERE t2.founded  =  2003,"building, institution"
roller_coaster,Show the different statuses and the numbers of roller coasters for each status.,"SELECT status ,  COUNT(*) FROM roller_coaster GROUP BY status",roller_coaster
local_govt_in_alabama,How many participants belong to the type 'Organizer'?,SELECT COUNT(*) FROM participants WHERE participant_type_code  =  'Organizer',participants
architecture,What are the names and year of construction for the mills of 'Grondzeiler' type?,"SELECT name ,  built_year FROM mill WHERE type  =  'Grondzeiler'",mill
railway,"Show different builders of railways, along with the corresponding number of railways using each builder.","SELECT builder ,  COUNT(*) FROM railway GROUP BY builder",railway
railway,List the wheels and locations of the railways.,"SELECT wheels ,  location FROM railway",railway
book_2,What are the title and issues of the books?,"SELECT title ,  issues FROM book",book
book_2,Show the title and publication dates of books.,"SELECT t1.title ,  t2.publication_date FROM book as t1 JOIN publication as t2 ON t1.book_id  =  t2.book_id","book, publication"
